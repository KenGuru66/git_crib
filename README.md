
# Шпаргалка по использованию Git

## Настройка Git

```bash
# Установить имя пользователя
git config --global user.name "Ваше Имя"

# Установить email пользователя
git config --global user.email "your.email@example.com"

# Проверить текущие настройки
git config --list
```

## Основные команды

### Инициализация репозитория

```bash
# Создать новый локальный репозиторий
git init
```

### Клонирование репозитория

```bash
# Клонировать существующий репозиторий
git clone <url>
```

### Проверка статуса

```bash
# Проверить статус файлов в рабочей директории
git status
```

### Добавление изменений

```bash
# Добавить все изменения в индекс
git add .

# Добавить конкретный файл
git add <filename>
```

### Фиксация изменений

```bash
# Создать коммит с сообщением
git commit -m "Сообщение коммита"
```

### Просмотр истории

```bash
# Показать историю коммитов
git log

# Показать историю с графом ветвлений
git log --graph --oneline --all
```

### Отправка изменений

```bash
# Отправить изменения в удаленный репозиторий
git push origin <branch>
```

### Получение изменений

```bash
# Получить изменения из удаленного репозитория
git pull
```

## Работа с ветками

### Создание и переключение веток

```bash
# Создать новую ветку
git branch <branch-name>

# Переключиться на ветку
git checkout <branch-name>

# Создать и переключиться на новую ветку
git checkout -b <branch-name>
```

### Слияние веток

```bash
# Слить указанную ветку в текущую
git merge <branch-name>
```

### Удаление ветки

```bash
# Удалить локальную ветку
git branch -d <branch-name>

# Удалить удаленную ветку
git push origin --delete <branch-name>
```

## Отмена изменений

### Отмена изменений в файлах

```bash
# Отменить изменения в файле (до последнего коммита)
git checkout -- <filename>
```

### Сброс коммитов

```bash
# Сбросить последний коммит, сохранив изменения в рабочей директории
git reset --soft HEAD~1

# Сбросить последний коммит и изменения
git reset --hard HEAD~1
```

## Работа с удаленными репозиториями

### Управление удаленными репозиториями

```bash
# Показать список удаленных репозиториев
git remote -v

# Добавить удаленный репозиторий
git remote add origin <url>

# Изменить URL удаленного репозитория
git remote set-url origin <new-url>
```

### Получение и отправка тегов

```bash
# Создать тег
git tag -a v1.0 -m "Версия 1.0"

# Отправить теги в удаленный репозиторий
git push origin --tags
```

## Полезные команды

### Сохранение изменений без коммита (Stash)

```bash
# Сохранить текущие изменения
git stash

# Показать список сохраненных состояний
git stash list

# Применить последнее сохраненное состояние
git stash apply

# Применить и удалить последнее сохраненное состояние
git stash pop
```

### Просмотр различий

```bash
# Показать изменения в рабочей директории
git diff

# Показать изменения между коммитами
git diff <commit1> <commit2>
```

### Переименование файла

```bash
# Переименовать файл
git mv <old_filename> <new_filename>
```

## Алиасы (сокращения)

```bash
# Создать алиас для команды
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.cm commit
```

## Хеш в Git

Git использует **SHA-1 хеш** для идентификации каждого коммита, файла, дерева и других объектов. Это 40-символьная строка, которая уникально идентифицирует каждый коммит или объект.

### Пример команды для получения хеша последнего коммита:

```bash
git log --pretty=format:"%H" -n 1
```

## Лог коммитов
Команда git log показывает историю коммитов. Можно просматривать список коммитов, их хеши, авторов и сообщения.

```bash
git log
# Основные параметры:
--oneline — вывод в одну строку для каждого коммита (сокращенный формат).
--graph — отображает граф ветвлений.
--decorate — показывает ссылки на ветки и теги.
```
# Пример команды для наглядного лога:
```bash
git log --oneline --graph --decorate --all
```

## HEAD
 HEAD — это указатель на текущий коммит или ветку, над которой вы работаете. Чаще всего он указывает на последний коммит в активной ветке.

HEAD всегда указывает на текущий коммит.
Если сделать git checkout на другую ветку или коммит, HEAD перемещается на него.
Пример получения информации о текущем HEAD:
```bash
git show HEAD
```
## Пример переключения на другой коммит:
```bash
git checkout <хеш коммита>
```
### Статусы файлов
Git отслеживает изменения файлов и присваивает им один из следующих статусов:

- **Untracked (неотслеживаемый):** файл не добавлен в индекс (Git не отслеживает его).
- **Unmodified (без изменений):** файл в репозитории не изменен.
- **Modified (изменён):** файл изменен, но изменения не добавлены в индекс.
- **Staged (в индексе):** файл добавлен в индекс (ожидает коммита).

Команда для проверки статусов файлов:
```bash
git status
```

### Оформление сообщений к коммитам
Сообщение к коммиту должно быть информативным и кратким, чтобы другие разработчики могли быстро понять, что изменилось.

Рекомендации:
- **Заголовок (summary):** кратко опишите изменения (не более 50 символов).
- **Тело сообщения:** добавьте дополнительную информацию, если это необходимо (опционально, обычно ограничивается 72 символами на строку).
- **Сообщение должно быть в повелительном наклонении (например, "Добавить", "Исправить", "Удалить").**

Пример хорошего сообщения к коммиту:
```text
Добавить поддержку авторизации

Теперь пользователи могут логиниться через OAuth. Добавлен новый модуль аутентификации и обновлены тесты.
```

Команда для создания коммита с сообщением:
```bash
git commit -m "Краткое описание изменений"
```
Для более сложных сообщений можно использовать:
```bash
git commit
```
Откроется текстовый редактор для ввода полного сообщения коммита.


## Советы

- **Часто коммитьте:** Маленькие коммиты упрощают отслеживание изменений.
- **Пишите осмысленные сообщения коммитов:** Это поможет вам и другим разработчикам понимать историю изменений.
- **Регулярно обновляйте репозиторий:** Используйте `git pull` для синхронизации с удаленным репозиторием.

## Полезные ресурсы

- [Официальная документация Git](https://git-scm.com/doc)
- [Pro Git книга (на русском)](https://git-scm.com/book/ru/v2)
```

